ARM GAS  /tmp/ccKLtQne.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"bsp_iic.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.USER_I2C_GPIO_Config,"ax",%progbits
  16              		.align	1
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu softvfp
  22              	USER_I2C_GPIO_Config:
  23              	.LFB67:
  24              		.file 1 "HARDWARE/IIC/bsp_iic.c"
   1:HARDWARE/IIC/bsp_iic.c **** #include "bsp_iic.h"
   2:HARDWARE/IIC/bsp_iic.c **** 
   3:HARDWARE/IIC/bsp_iic.c **** void delay_us(uint8_t us){
   4:HARDWARE/IIC/bsp_iic.c **** 	uint8_t i;
   5:HARDWARE/IIC/bsp_iic.c **** 	for (i = 0; i < us * 4; i++);
   6:HARDWARE/IIC/bsp_iic.c **** }
   7:HARDWARE/IIC/bsp_iic.c **** 
   8:HARDWARE/IIC/bsp_iic.c **** static void USER_I2C_GPIO_Config(void)
   9:HARDWARE/IIC/bsp_iic.c **** {
  25              		.loc 1 9 0
  26              		.cfi_startproc
  27              		@ args = 0, pretend = 0, frame = 24
  28              		@ frame_needed = 0, uses_anonymous_args = 0
  29 0000 10B5     		push	{r4, lr}
  30              	.LCFI0:
  31              		.cfi_def_cfa_offset 8
  32              		.cfi_offset 4, -8
  33              		.cfi_offset 14, -4
  34 0002 86B0     		sub	sp, sp, #24
  35              	.LCFI1:
  36              		.cfi_def_cfa_offset 32
  37              	.LBB2:
  10:HARDWARE/IIC/bsp_iic.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
  11:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_GPIO_ClK_ENABLE();
  38              		.loc 1 11 0
  39 0004 154B     		ldr	r3, .L3
  40 0006 9A69     		ldr	r2, [r3, #24]
  41 0008 42F01002 		orr	r2, r2, #16
  42 000c 9A61     		str	r2, [r3, #24]
  43 000e 9A69     		ldr	r2, [r3, #24]
  44 0010 02F01002 		and	r2, r2, #16
  45 0014 0092     		str	r2, [sp]
  46 0016 009A     		ldr	r2, [sp]
  47              	.LBE2:
ARM GAS  /tmp/ccKLtQne.s 			page 2


  48              	.LBB3:
  12:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_GPIO_ClK_ENABLE();
  49              		.loc 1 12 0
  50 0018 9A69     		ldr	r2, [r3, #24]
  51 001a 42F01002 		orr	r2, r2, #16
  52 001e 9A61     		str	r2, [r3, #24]
  53 0020 9B69     		ldr	r3, [r3, #24]
  54 0022 03F01003 		and	r3, r3, #16
  55 0026 0193     		str	r3, [sp, #4]
  56 0028 019B     		ldr	r3, [sp, #4]
  57              	.LBE3:
  13:HARDWARE/IIC/bsp_iic.c **** 	GPIO_InitStructure.Pin = USER_I2C_SCL_GPIO_PIN;
  58              		.loc 1 13 0
  59 002a 1023     		movs	r3, #16
  60 002c 0293     		str	r3, [sp, #8]
  14:HARDWARE/IIC/bsp_iic.c **** 	GPIO_InitStructure.Mode = GPIO_MODE_OUTPUT_PP;
  61              		.loc 1 14 0
  62 002e 0123     		movs	r3, #1
  63 0030 0393     		str	r3, [sp, #12]
  15:HARDWARE/IIC/bsp_iic.c **** 	GPIO_InitStructure.Pull = GPIO_NOPULL;
  64              		.loc 1 15 0
  65 0032 0023     		movs	r3, #0
  66 0034 0493     		str	r3, [sp, #16]
  16:HARDWARE/IIC/bsp_iic.c **** 	GPIO_InitStructure.Speed = GPIO_SPEED_FREQ_HIGH;
  67              		.loc 1 16 0
  68 0036 0323     		movs	r3, #3
  69 0038 0593     		str	r3, [sp, #20]
  17:HARDWARE/IIC/bsp_iic.c **** 	HAL_GPIO_Init(USER_I2C_SCL_GPIO_PORT,&GPIO_InitStructure);
  70              		.loc 1 17 0
  71 003a 094C     		ldr	r4, .L3+4
  72 003c 02A9     		add	r1, sp, #8
  73 003e 2046     		mov	r0, r4
  74 0040 FFF7FEFF 		bl	HAL_GPIO_Init
  75              	.LVL0:
  18:HARDWARE/IIC/bsp_iic.c **** 	GPIO_InitStructure.Pin = USER_I2C_SDA_GPIO_PIN;
  76              		.loc 1 18 0
  77 0044 4FF40053 		mov	r3, #8192
  78 0048 0293     		str	r3, [sp, #8]
  19:HARDWARE/IIC/bsp_iic.c **** 	GPIO_InitStructure.Mode = GPIO_MODE_OUTPUT_OD;
  79              		.loc 1 19 0
  80 004a 1123     		movs	r3, #17
  81 004c 0393     		str	r3, [sp, #12]
  20:HARDWARE/IIC/bsp_iic.c **** 	HAL_GPIO_Init(USER_I2C_SDA_GPIO_PORT,&GPIO_InitStructure);
  82              		.loc 1 20 0
  83 004e 02A9     		add	r1, sp, #8
  84 0050 2046     		mov	r0, r4
  85 0052 FFF7FEFF 		bl	HAL_GPIO_Init
  86              	.LVL1:
  21:HARDWARE/IIC/bsp_iic.c **** }
  87              		.loc 1 21 0
  88 0056 06B0     		add	sp, sp, #24
  89              	.LCFI2:
  90              		.cfi_def_cfa_offset 8
  91              		@ sp needed
  92 0058 10BD     		pop	{r4, pc}
  93              	.L4:
  94 005a 00BF     		.align	2
ARM GAS  /tmp/ccKLtQne.s 			page 3


  95              	.L3:
  96 005c 00100240 		.word	1073876992
  97 0060 00100140 		.word	1073811456
  98              		.cfi_endproc
  99              	.LFE67:
 101              		.section	.text.delay_us,"ax",%progbits
 102              		.align	1
 103              		.global	delay_us
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 107              		.fpu softvfp
 109              	delay_us:
 110              	.LFB66:
   3:HARDWARE/IIC/bsp_iic.c **** 	for (i = 0; i < us * 4; i++);
 111              		.loc 1 3 0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115              		@ link register save eliminated.
 116              	.LVL2:
   5:HARDWARE/IIC/bsp_iic.c **** }
 117              		.loc 1 5 0
 118 0000 0023     		movs	r3, #0
 119 0002 01E0     		b	.L6
 120              	.LVL3:
 121              	.L7:
   5:HARDWARE/IIC/bsp_iic.c **** }
 122              		.loc 1 5 0 is_stmt 0 discriminator 3
 123 0004 0133     		adds	r3, r3, #1
 124              	.LVL4:
 125 0006 DBB2     		uxtb	r3, r3
 126              	.LVL5:
 127              	.L6:
   5:HARDWARE/IIC/bsp_iic.c **** }
 128              		.loc 1 5 0 discriminator 1
 129 0008 B3EB800F 		cmp	r3, r0, lsl #2
 130 000c FADB     		blt	.L7
   6:HARDWARE/IIC/bsp_iic.c **** 
 131              		.loc 1 6 0 is_stmt 1
 132 000e 7047     		bx	lr
 133              		.cfi_endproc
 134              	.LFE66:
 136              		.section	.text.USER_I2C_NAck,"ax",%progbits
 137              		.align	1
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu softvfp
 143              	USER_I2C_NAck:
 144              	.LFB73:
  22:HARDWARE/IIC/bsp_iic.c **** 
  23:HARDWARE/IIC/bsp_iic.c **** void USER_I2C_Config(void)
  24:HARDWARE/IIC/bsp_iic.c **** {
  25:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_GPIO_Config();
  26:HARDWARE/IIC/bsp_iic.c **** }
  27:HARDWARE/IIC/bsp_iic.c **** 
ARM GAS  /tmp/ccKLtQne.s 			page 4


  28:HARDWARE/IIC/bsp_iic.c **** void USER_I2C_Start(void)
  29:HARDWARE/IIC/bsp_iic.c **** {
  30:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_1();
  31:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_1();
  32:HARDWARE/IIC/bsp_iic.c **** 	delay_us(4);
  33:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_0();
  34:HARDWARE/IIC/bsp_iic.c **** 	delay_us(4);
  35:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
  36:HARDWARE/IIC/bsp_iic.c **** }
  37:HARDWARE/IIC/bsp_iic.c **** 
  38:HARDWARE/IIC/bsp_iic.c **** void USER_I2C_Stop(void)
  39:HARDWARE/IIC/bsp_iic.c **** {
  40:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
  41:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_0();
  42:HARDWARE/IIC/bsp_iic.c **** 	delay_us(4);
  43:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_1();
  44:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_1();
  45:HARDWARE/IIC/bsp_iic.c **** 	delay_us(4);
  46:HARDWARE/IIC/bsp_iic.c **** }
  47:HARDWARE/IIC/bsp_iic.c **** 
  48:HARDWARE/IIC/bsp_iic.c **** uint8_t USER_I2C_Wait_Ack(void)
  49:HARDWARE/IIC/bsp_iic.c **** {
  50:HARDWARE/IIC/bsp_iic.c **** 	uint8_t ucErrTime = 0;
  51:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_1();
  52:HARDWARE/IIC/bsp_iic.c **** 	delay_us(1);
  53:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_1();
  54:HARDWARE/IIC/bsp_iic.c **** 	delay_us(1);
  55:HARDWARE/IIC/bsp_iic.c **** 	while(USER_I2C_SDA_READ())
  56:HARDWARE/IIC/bsp_iic.c **** 	{
  57:HARDWARE/IIC/bsp_iic.c **** 		ucErrTime ++;
  58:HARDWARE/IIC/bsp_iic.c **** 		if(ucErrTime > 250)
  59:HARDWARE/IIC/bsp_iic.c **** 		{
  60:HARDWARE/IIC/bsp_iic.c **** 			USER_I2C_Stop();
  61:HARDWARE/IIC/bsp_iic.c **** 			return 1;
  62:HARDWARE/IIC/bsp_iic.c **** 		}
  63:HARDWARE/IIC/bsp_iic.c **** 	}
  64:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
  65:HARDWARE/IIC/bsp_iic.c **** 	return 0;
  66:HARDWARE/IIC/bsp_iic.c **** }
  67:HARDWARE/IIC/bsp_iic.c **** 
  68:HARDWARE/IIC/bsp_iic.c **** static void USER_I2C_Ack(void)
  69:HARDWARE/IIC/bsp_iic.c **** {
  70:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
  71:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_0();
  72:HARDWARE/IIC/bsp_iic.c **** 	delay_us(2);
  73:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_1();
  74:HARDWARE/IIC/bsp_iic.c **** 	delay_us(2);
  75:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
  76:HARDWARE/IIC/bsp_iic.c **** }
  77:HARDWARE/IIC/bsp_iic.c **** 
  78:HARDWARE/IIC/bsp_iic.c **** static void USER_I2C_NAck(void)
  79:HARDWARE/IIC/bsp_iic.c **** {
 145              		.loc 1 79 0
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149 0000 38B5     		push	{r3, r4, r5, lr}
ARM GAS  /tmp/ccKLtQne.s 			page 5


 150              	.LCFI3:
 151              		.cfi_def_cfa_offset 16
 152              		.cfi_offset 3, -16
 153              		.cfi_offset 4, -12
 154              		.cfi_offset 5, -8
 155              		.cfi_offset 14, -4
  80:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
 156              		.loc 1 80 0
 157 0002 074C     		ldr	r4, .L10
 158 0004 1025     		movs	r5, #16
 159 0006 6561     		str	r5, [r4, #20]
  81:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_1();
 160              		.loc 1 81 0
 161 0008 4FF40053 		mov	r3, #8192
 162 000c 2361     		str	r3, [r4, #16]
  82:HARDWARE/IIC/bsp_iic.c **** 	delay_us(2);
 163              		.loc 1 82 0
 164 000e 0220     		movs	r0, #2
 165 0010 FFF7FEFF 		bl	delay_us
 166              	.LVL6:
  83:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_1();
 167              		.loc 1 83 0
 168 0014 2561     		str	r5, [r4, #16]
  84:HARDWARE/IIC/bsp_iic.c **** 	delay_us(2);
 169              		.loc 1 84 0
 170 0016 0220     		movs	r0, #2
 171 0018 FFF7FEFF 		bl	delay_us
 172              	.LVL7:
  85:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
 173              		.loc 1 85 0
 174 001c 6561     		str	r5, [r4, #20]
  86:HARDWARE/IIC/bsp_iic.c **** }
 175              		.loc 1 86 0
 176 001e 38BD     		pop	{r3, r4, r5, pc}
 177              	.L11:
 178              		.align	2
 179              	.L10:
 180 0020 00100140 		.word	1073811456
 181              		.cfi_endproc
 182              	.LFE73:
 184              		.section	.text.USER_I2C_Ack,"ax",%progbits
 185              		.align	1
 186              		.syntax unified
 187              		.thumb
 188              		.thumb_func
 189              		.fpu softvfp
 191              	USER_I2C_Ack:
 192              	.LFB72:
  69:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
 193              		.loc 1 69 0
 194              		.cfi_startproc
 195              		@ args = 0, pretend = 0, frame = 0
 196              		@ frame_needed = 0, uses_anonymous_args = 0
 197 0000 38B5     		push	{r3, r4, r5, lr}
 198              	.LCFI4:
 199              		.cfi_def_cfa_offset 16
 200              		.cfi_offset 3, -16
ARM GAS  /tmp/ccKLtQne.s 			page 6


 201              		.cfi_offset 4, -12
 202              		.cfi_offset 5, -8
 203              		.cfi_offset 14, -4
  70:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_0();
 204              		.loc 1 70 0
 205 0002 074C     		ldr	r4, .L14
 206 0004 1025     		movs	r5, #16
 207 0006 6561     		str	r5, [r4, #20]
  71:HARDWARE/IIC/bsp_iic.c **** 	delay_us(2);
 208              		.loc 1 71 0
 209 0008 4FF40053 		mov	r3, #8192
 210 000c 6361     		str	r3, [r4, #20]
  72:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_1();
 211              		.loc 1 72 0
 212 000e 0220     		movs	r0, #2
 213 0010 FFF7FEFF 		bl	delay_us
 214              	.LVL8:
  73:HARDWARE/IIC/bsp_iic.c **** 	delay_us(2);
 215              		.loc 1 73 0
 216 0014 2561     		str	r5, [r4, #16]
  74:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
 217              		.loc 1 74 0
 218 0016 0220     		movs	r0, #2
 219 0018 FFF7FEFF 		bl	delay_us
 220              	.LVL9:
  75:HARDWARE/IIC/bsp_iic.c **** }
 221              		.loc 1 75 0
 222 001c 6561     		str	r5, [r4, #20]
  76:HARDWARE/IIC/bsp_iic.c **** 
 223              		.loc 1 76 0
 224 001e 38BD     		pop	{r3, r4, r5, pc}
 225              	.L15:
 226              		.align	2
 227              	.L14:
 228 0020 00100140 		.word	1073811456
 229              		.cfi_endproc
 230              	.LFE72:
 232              		.section	.text.USER_I2C_Config,"ax",%progbits
 233              		.align	1
 234              		.global	USER_I2C_Config
 235              		.syntax unified
 236              		.thumb
 237              		.thumb_func
 238              		.fpu softvfp
 240              	USER_I2C_Config:
 241              	.LFB68:
  24:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_GPIO_Config();
 242              		.loc 1 24 0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 0
 245              		@ frame_needed = 0, uses_anonymous_args = 0
 246 0000 08B5     		push	{r3, lr}
 247              	.LCFI5:
 248              		.cfi_def_cfa_offset 8
 249              		.cfi_offset 3, -8
 250              		.cfi_offset 14, -4
  25:HARDWARE/IIC/bsp_iic.c **** }
ARM GAS  /tmp/ccKLtQne.s 			page 7


 251              		.loc 1 25 0
 252 0002 FFF7FEFF 		bl	USER_I2C_GPIO_Config
 253              	.LVL10:
  26:HARDWARE/IIC/bsp_iic.c **** 
 254              		.loc 1 26 0
 255 0006 08BD     		pop	{r3, pc}
 256              		.cfi_endproc
 257              	.LFE68:
 259              		.section	.text.USER_I2C_Start,"ax",%progbits
 260              		.align	1
 261              		.global	USER_I2C_Start
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 265              		.fpu softvfp
 267              	USER_I2C_Start:
 268              	.LFB69:
  29:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_1();
 269              		.loc 1 29 0
 270              		.cfi_startproc
 271              		@ args = 0, pretend = 0, frame = 0
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273 0000 70B5     		push	{r4, r5, r6, lr}
 274              	.LCFI6:
 275              		.cfi_def_cfa_offset 16
 276              		.cfi_offset 4, -16
 277              		.cfi_offset 5, -12
 278              		.cfi_offset 6, -8
 279              		.cfi_offset 14, -4
  30:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_1();
 280              		.loc 1 30 0
 281 0002 074C     		ldr	r4, .L20
 282 0004 4FF40056 		mov	r6, #8192
 283 0008 2661     		str	r6, [r4, #16]
  31:HARDWARE/IIC/bsp_iic.c **** 	delay_us(4);
 284              		.loc 1 31 0
 285 000a 1025     		movs	r5, #16
 286 000c 2561     		str	r5, [r4, #16]
  32:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_0();
 287              		.loc 1 32 0
 288 000e 0420     		movs	r0, #4
 289 0010 FFF7FEFF 		bl	delay_us
 290              	.LVL11:
  33:HARDWARE/IIC/bsp_iic.c **** 	delay_us(4);
 291              		.loc 1 33 0
 292 0014 6661     		str	r6, [r4, #20]
  34:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
 293              		.loc 1 34 0
 294 0016 0420     		movs	r0, #4
 295 0018 FFF7FEFF 		bl	delay_us
 296              	.LVL12:
  35:HARDWARE/IIC/bsp_iic.c **** }
 297              		.loc 1 35 0
 298 001c 6561     		str	r5, [r4, #20]
  36:HARDWARE/IIC/bsp_iic.c **** 
 299              		.loc 1 36 0
 300 001e 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccKLtQne.s 			page 8


 301              	.L21:
 302              		.align	2
 303              	.L20:
 304 0020 00100140 		.word	1073811456
 305              		.cfi_endproc
 306              	.LFE69:
 308              		.section	.text.USER_I2C_Stop,"ax",%progbits
 309              		.align	1
 310              		.global	USER_I2C_Stop
 311              		.syntax unified
 312              		.thumb
 313              		.thumb_func
 314              		.fpu softvfp
 316              	USER_I2C_Stop:
 317              	.LFB70:
  39:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
 318              		.loc 1 39 0
 319              		.cfi_startproc
 320              		@ args = 0, pretend = 0, frame = 0
 321              		@ frame_needed = 0, uses_anonymous_args = 0
 322 0000 70B5     		push	{r4, r5, r6, lr}
 323              	.LCFI7:
 324              		.cfi_def_cfa_offset 16
 325              		.cfi_offset 4, -16
 326              		.cfi_offset 5, -12
 327              		.cfi_offset 6, -8
 328              		.cfi_offset 14, -4
  40:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_0();
 329              		.loc 1 40 0
 330 0002 074C     		ldr	r4, .L24
 331 0004 1026     		movs	r6, #16
 332 0006 6661     		str	r6, [r4, #20]
  41:HARDWARE/IIC/bsp_iic.c **** 	delay_us(4);
 333              		.loc 1 41 0
 334 0008 4FF40055 		mov	r5, #8192
 335 000c 6561     		str	r5, [r4, #20]
  42:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_1();
 336              		.loc 1 42 0
 337 000e 0420     		movs	r0, #4
 338 0010 FFF7FEFF 		bl	delay_us
 339              	.LVL13:
  43:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_1();
 340              		.loc 1 43 0
 341 0014 2661     		str	r6, [r4, #16]
  44:HARDWARE/IIC/bsp_iic.c **** 	delay_us(4);
 342              		.loc 1 44 0
 343 0016 2561     		str	r5, [r4, #16]
  45:HARDWARE/IIC/bsp_iic.c **** }
 344              		.loc 1 45 0
 345 0018 0420     		movs	r0, #4
 346 001a FFF7FEFF 		bl	delay_us
 347              	.LVL14:
  46:HARDWARE/IIC/bsp_iic.c **** 
 348              		.loc 1 46 0
 349 001e 70BD     		pop	{r4, r5, r6, pc}
 350              	.L25:
 351              		.align	2
ARM GAS  /tmp/ccKLtQne.s 			page 9


 352              	.L24:
 353 0020 00100140 		.word	1073811456
 354              		.cfi_endproc
 355              	.LFE70:
 357              		.section	.text.USER_I2C_Wait_Ack,"ax",%progbits
 358              		.align	1
 359              		.global	USER_I2C_Wait_Ack
 360              		.syntax unified
 361              		.thumb
 362              		.thumb_func
 363              		.fpu softvfp
 365              	USER_I2C_Wait_Ack:
 366              	.LFB71:
  49:HARDWARE/IIC/bsp_iic.c **** 	uint8_t ucErrTime = 0;
 367              		.loc 1 49 0
 368              		.cfi_startproc
 369              		@ args = 0, pretend = 0, frame = 0
 370              		@ frame_needed = 0, uses_anonymous_args = 0
 371 0000 10B5     		push	{r4, lr}
 372              	.LCFI8:
 373              		.cfi_def_cfa_offset 8
 374              		.cfi_offset 4, -8
 375              		.cfi_offset 14, -4
 376              	.LVL15:
  51:HARDWARE/IIC/bsp_iic.c **** 	delay_us(1);
 377              		.loc 1 51 0
 378 0002 0F4C     		ldr	r4, .L32
 379 0004 4FF40053 		mov	r3, #8192
 380 0008 2361     		str	r3, [r4, #16]
  52:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_1();
 381              		.loc 1 52 0
 382 000a 0120     		movs	r0, #1
 383 000c FFF7FEFF 		bl	delay_us
 384              	.LVL16:
  53:HARDWARE/IIC/bsp_iic.c **** 	delay_us(1);
 385              		.loc 1 53 0
 386 0010 1023     		movs	r3, #16
 387 0012 2361     		str	r3, [r4, #16]
  54:HARDWARE/IIC/bsp_iic.c **** 	while(USER_I2C_SDA_READ())
 388              		.loc 1 54 0
 389 0014 0120     		movs	r0, #1
 390 0016 FFF7FEFF 		bl	delay_us
 391              	.LVL17:
  50:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_1();
 392              		.loc 1 50 0
 393 001a 0023     		movs	r3, #0
 394              	.LVL18:
 395              	.L27:
  55:HARDWARE/IIC/bsp_iic.c **** 	{
 396              		.loc 1 55 0
 397 001c 084A     		ldr	r2, .L32
 398 001e 9268     		ldr	r2, [r2, #8]
 399 0020 12F4005F 		tst	r2, #8192
 400 0024 07D0     		beq	.L31
  57:HARDWARE/IIC/bsp_iic.c **** 		if(ucErrTime > 250)
 401              		.loc 1 57 0
 402 0026 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccKLtQne.s 			page 10


 403              	.LVL19:
 404 0028 DBB2     		uxtb	r3, r3
 405              	.LVL20:
  58:HARDWARE/IIC/bsp_iic.c **** 		{
 406              		.loc 1 58 0
 407 002a FA2B     		cmp	r3, #250
 408 002c F6D9     		bls	.L27
  60:HARDWARE/IIC/bsp_iic.c **** 			return 1;
 409              		.loc 1 60 0
 410 002e FFF7FEFF 		bl	USER_I2C_Stop
 411              	.LVL21:
  61:HARDWARE/IIC/bsp_iic.c **** 		}
 412              		.loc 1 61 0
 413 0032 0120     		movs	r0, #1
 414 0034 03E0     		b	.L28
 415              	.LVL22:
 416              	.L31:
  64:HARDWARE/IIC/bsp_iic.c **** 	return 0;
 417              		.loc 1 64 0
 418 0036 024B     		ldr	r3, .L32
 419              	.LVL23:
 420 0038 1022     		movs	r2, #16
 421 003a 5A61     		str	r2, [r3, #20]
  65:HARDWARE/IIC/bsp_iic.c **** }
 422              		.loc 1 65 0
 423 003c 0020     		movs	r0, #0
 424              	.L28:
  66:HARDWARE/IIC/bsp_iic.c **** 
 425              		.loc 1 66 0
 426 003e 10BD     		pop	{r4, pc}
 427              	.L33:
 428              		.align	2
 429              	.L32:
 430 0040 00100140 		.word	1073811456
 431              		.cfi_endproc
 432              	.LFE71:
 434              		.section	.text.USER_I2C_SendByte,"ax",%progbits
 435              		.align	1
 436              		.global	USER_I2C_SendByte
 437              		.syntax unified
 438              		.thumb
 439              		.thumb_func
 440              		.fpu softvfp
 442              	USER_I2C_SendByte:
 443              	.LFB74:
  87:HARDWARE/IIC/bsp_iic.c **** 
  88:HARDWARE/IIC/bsp_iic.c **** 
  89:HARDWARE/IIC/bsp_iic.c **** 
  90:HARDWARE/IIC/bsp_iic.c **** uint8_t USER_I2C_SendByte(uint8_t data)
  91:HARDWARE/IIC/bsp_iic.c **** {
 444              		.loc 1 91 0
 445              		.cfi_startproc
 446              		@ args = 0, pretend = 0, frame = 0
 447              		@ frame_needed = 0, uses_anonymous_args = 0
 448              	.LVL24:
 449 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 450              	.LCFI9:
ARM GAS  /tmp/ccKLtQne.s 			page 11


 451              		.cfi_def_cfa_offset 24
 452              		.cfi_offset 3, -24
 453              		.cfi_offset 4, -20
 454              		.cfi_offset 5, -16
 455              		.cfi_offset 6, -12
 456              		.cfi_offset 7, -8
 457              		.cfi_offset 14, -4
 458 0002 0746     		mov	r7, r0
  92:HARDWARE/IIC/bsp_iic.c **** 	uint8_t i;
  93:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
 459              		.loc 1 93 0
 460 0004 134B     		ldr	r3, .L42
 461 0006 1022     		movs	r2, #16
 462 0008 5A61     		str	r2, [r3, #20]
 463              	.LVL25:
  94:HARDWARE/IIC/bsp_iic.c **** 	for(i=0;i<8;i++)
 464              		.loc 1 94 0
 465 000a 0024     		movs	r4, #0
 466 000c 14E0     		b	.L35
 467              	.LVL26:
 468              	.L41:
  95:HARDWARE/IIC/bsp_iic.c **** 	{
  96:HARDWARE/IIC/bsp_iic.c **** 		if(data&0x80)
  97:HARDWARE/IIC/bsp_iic.c **** 			USER_I2C_SDA_1();
 469              		.loc 1 97 0
 470 000e 114B     		ldr	r3, .L42
 471 0010 4FF40052 		mov	r2, #8192
 472 0014 1A61     		str	r2, [r3, #16]
 473              	.L37:
  98:HARDWARE/IIC/bsp_iic.c **** 		else
  99:HARDWARE/IIC/bsp_iic.c **** 			USER_I2C_SDA_0();
 100:HARDWARE/IIC/bsp_iic.c **** 		data <<= 1;
 474              		.loc 1 100 0 discriminator 2
 475 0016 7F00     		lsls	r7, r7, #1
 476              	.LVL27:
 477 0018 FFB2     		uxtb	r7, r7
 478              	.LVL28:
 101:HARDWARE/IIC/bsp_iic.c **** 		delay_us(2);
 479              		.loc 1 101 0 discriminator 2
 480 001a 0220     		movs	r0, #2
 481 001c FFF7FEFF 		bl	delay_us
 482              	.LVL29:
 102:HARDWARE/IIC/bsp_iic.c **** 		USER_I2C_SCL_1();
 483              		.loc 1 102 0 discriminator 2
 484 0020 0C4D     		ldr	r5, .L42
 485 0022 1026     		movs	r6, #16
 486 0024 2E61     		str	r6, [r5, #16]
 103:HARDWARE/IIC/bsp_iic.c **** 		delay_us(2);
 487              		.loc 1 103 0 discriminator 2
 488 0026 0220     		movs	r0, #2
 489 0028 FFF7FEFF 		bl	delay_us
 490              	.LVL30:
 104:HARDWARE/IIC/bsp_iic.c **** 		USER_I2C_SCL_0();
 491              		.loc 1 104 0 discriminator 2
 492 002c 6E61     		str	r6, [r5, #20]
 105:HARDWARE/IIC/bsp_iic.c **** 		delay_us(2);
 493              		.loc 1 105 0 discriminator 2
ARM GAS  /tmp/ccKLtQne.s 			page 12


 494 002e 0220     		movs	r0, #2
 495 0030 FFF7FEFF 		bl	delay_us
 496              	.LVL31:
  94:HARDWARE/IIC/bsp_iic.c **** 	{
 497              		.loc 1 94 0 discriminator 2
 498 0034 0134     		adds	r4, r4, #1
 499              	.LVL32:
 500 0036 E4B2     		uxtb	r4, r4
 501              	.LVL33:
 502              	.L35:
  94:HARDWARE/IIC/bsp_iic.c **** 	{
 503              		.loc 1 94 0 is_stmt 0 discriminator 1
 504 0038 072C     		cmp	r4, #7
 505 003a 07D8     		bhi	.L40
  96:HARDWARE/IIC/bsp_iic.c **** 			USER_I2C_SDA_1();
 506              		.loc 1 96 0 is_stmt 1
 507 003c 17F0800F 		tst	r7, #128
 508 0040 E5D1     		bne	.L41
  99:HARDWARE/IIC/bsp_iic.c **** 		data <<= 1;
 509              		.loc 1 99 0
 510 0042 044B     		ldr	r3, .L42
 511 0044 4FF40052 		mov	r2, #8192
 512 0048 5A61     		str	r2, [r3, #20]
 513 004a E4E7     		b	.L37
 514              	.L40:
 106:HARDWARE/IIC/bsp_iic.c **** 	}
 107:HARDWARE/IIC/bsp_iic.c **** 	return USER_I2C_Wait_Ack();
 515              		.loc 1 107 0
 516 004c FFF7FEFF 		bl	USER_I2C_Wait_Ack
 517              	.LVL34:
 108:HARDWARE/IIC/bsp_iic.c **** }
 518              		.loc 1 108 0
 519 0050 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 520              	.LVL35:
 521              	.L43:
 522 0052 00BF     		.align	2
 523              	.L42:
 524 0054 00100140 		.word	1073811456
 525              		.cfi_endproc
 526              	.LFE74:
 528              		.section	.text.USER_I2C_ReadByte,"ax",%progbits
 529              		.align	1
 530              		.global	USER_I2C_ReadByte
 531              		.syntax unified
 532              		.thumb
 533              		.thumb_func
 534              		.fpu softvfp
 536              	USER_I2C_ReadByte:
 537              	.LFB75:
 109:HARDWARE/IIC/bsp_iic.c **** 
 110:HARDWARE/IIC/bsp_iic.c **** 
 111:HARDWARE/IIC/bsp_iic.c **** 
 112:HARDWARE/IIC/bsp_iic.c **** uint8_t USER_I2C_ReadByte(uint8_t ack)
 113:HARDWARE/IIC/bsp_iic.c **** {
 538              		.loc 1 113 0
 539              		.cfi_startproc
 540              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccKLtQne.s 			page 13


 541              		@ frame_needed = 0, uses_anonymous_args = 0
 542              	.LVL36:
 543 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 544              	.LCFI10:
 545              		.cfi_def_cfa_offset 24
 546              		.cfi_offset 4, -24
 547              		.cfi_offset 5, -20
 548              		.cfi_offset 6, -16
 549              		.cfi_offset 7, -12
 550              		.cfi_offset 8, -8
 551              		.cfi_offset 14, -4
 552 0004 8046     		mov	r8, r0
 114:HARDWARE/IIC/bsp_iic.c **** 	uint8_t i,data;
 115:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SDA_1();
 553              		.loc 1 115 0
 554 0006 154B     		ldr	r3, .L53
 555 0008 4FF40052 		mov	r2, #8192
 556 000c 1A61     		str	r2, [r3, #16]
 116:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_SCL_0();
 557              		.loc 1 116 0
 558 000e 1022     		movs	r2, #16
 559 0010 5A61     		str	r2, [r3, #20]
 560              	.LVL37:
 117:HARDWARE/IIC/bsp_iic.c **** 	data = 0;
 561              		.loc 1 117 0
 562 0012 0024     		movs	r4, #0
 118:HARDWARE/IIC/bsp_iic.c **** 	for(i=0;i<8;i++)
 563              		.loc 1 118 0
 564 0014 2546     		mov	r5, r4
 565 0016 04E0     		b	.L45
 566              	.LVL38:
 567              	.L46:
 119:HARDWARE/IIC/bsp_iic.c **** 	{
 120:HARDWARE/IIC/bsp_iic.c **** 		USER_I2C_SCL_0();
 121:HARDWARE/IIC/bsp_iic.c **** 		delay_us(2);
 122:HARDWARE/IIC/bsp_iic.c **** 		USER_I2C_SCL_1();
 123:HARDWARE/IIC/bsp_iic.c **** 		data <<= 1;
 124:HARDWARE/IIC/bsp_iic.c **** 		if(USER_I2C_SDA_READ())
 125:HARDWARE/IIC/bsp_iic.c **** 			data ++;
 126:HARDWARE/IIC/bsp_iic.c **** 		delay_us(1);
 568              		.loc 1 126 0 discriminator 2
 569 0018 0120     		movs	r0, #1
 570 001a FFF7FEFF 		bl	delay_us
 571              	.LVL39:
 118:HARDWARE/IIC/bsp_iic.c **** 	for(i=0;i<8;i++)
 572              		.loc 1 118 0 discriminator 2
 573 001e 0135     		adds	r5, r5, #1
 574              	.LVL40:
 575 0020 EDB2     		uxtb	r5, r5
 576              	.LVL41:
 577              	.L45:
 118:HARDWARE/IIC/bsp_iic.c **** 	for(i=0;i<8;i++)
 578              		.loc 1 118 0 is_stmt 0 discriminator 1
 579 0022 072D     		cmp	r5, #7
 580 0024 0FD8     		bhi	.L51
 120:HARDWARE/IIC/bsp_iic.c **** 		delay_us(2);
 581              		.loc 1 120 0 is_stmt 1
ARM GAS  /tmp/ccKLtQne.s 			page 14


 582 0026 0D4E     		ldr	r6, .L53
 583 0028 1027     		movs	r7, #16
 584 002a 7761     		str	r7, [r6, #20]
 121:HARDWARE/IIC/bsp_iic.c **** 		USER_I2C_SCL_1();
 585              		.loc 1 121 0
 586 002c 0220     		movs	r0, #2
 587 002e FFF7FEFF 		bl	delay_us
 588              	.LVL42:
 122:HARDWARE/IIC/bsp_iic.c **** 		data <<= 1;
 589              		.loc 1 122 0
 590 0032 3761     		str	r7, [r6, #16]
 123:HARDWARE/IIC/bsp_iic.c **** 		if(USER_I2C_SDA_READ())
 591              		.loc 1 123 0
 592 0034 6400     		lsls	r4, r4, #1
 593              	.LVL43:
 594 0036 E4B2     		uxtb	r4, r4
 595              	.LVL44:
 124:HARDWARE/IIC/bsp_iic.c **** 			data ++;
 596              		.loc 1 124 0
 597 0038 B368     		ldr	r3, [r6, #8]
 598 003a 13F4005F 		tst	r3, #8192
 599 003e EBD0     		beq	.L46
 125:HARDWARE/IIC/bsp_iic.c **** 		delay_us(1);
 600              		.loc 1 125 0
 601 0040 0134     		adds	r4, r4, #1
 602              	.LVL45:
 603 0042 E4B2     		uxtb	r4, r4
 604              	.LVL46:
 605 0044 E8E7     		b	.L46
 606              	.L51:
 127:HARDWARE/IIC/bsp_iic.c **** 	}
 128:HARDWARE/IIC/bsp_iic.c **** 	if(!ack)
 607              		.loc 1 128 0
 608 0046 B8F1000F 		cmp	r8, #0
 609 004a 04D0     		beq	.L52
 129:HARDWARE/IIC/bsp_iic.c **** 		USER_I2C_NAck();
 130:HARDWARE/IIC/bsp_iic.c **** 	else
 131:HARDWARE/IIC/bsp_iic.c **** 		USER_I2C_Ack();
 610              		.loc 1 131 0
 611 004c FFF7FEFF 		bl	USER_I2C_Ack
 612              	.LVL47:
 613              	.L49:
 132:HARDWARE/IIC/bsp_iic.c **** 	return data;
 133:HARDWARE/IIC/bsp_iic.c **** }
 614              		.loc 1 133 0
 615 0050 2046     		mov	r0, r4
 616 0052 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 617              	.LVL48:
 618              	.L52:
 129:HARDWARE/IIC/bsp_iic.c **** 		USER_I2C_NAck();
 619              		.loc 1 129 0
 620 0056 FFF7FEFF 		bl	USER_I2C_NAck
 621              	.LVL49:
 622 005a F9E7     		b	.L49
 623              	.L54:
 624              		.align	2
 625              	.L53:
ARM GAS  /tmp/ccKLtQne.s 			page 15


 626 005c 00100140 		.word	1073811456
 627              		.cfi_endproc
 628              	.LFE75:
 630              		.section	.text.USER_I2C_Write,"ax",%progbits
 631              		.align	1
 632              		.global	USER_I2C_Write
 633              		.syntax unified
 634              		.thumb
 635              		.thumb_func
 636              		.fpu softvfp
 638              	USER_I2C_Write:
 639              	.LFB76:
 134:HARDWARE/IIC/bsp_iic.c **** 
 135:HARDWARE/IIC/bsp_iic.c **** uint8_t USER_I2C_Write(uint8_t dev_addr,uint8_t reg_addr,uint8_t i2c_len,uint8_t * i2c_data_buf)
 136:HARDWARE/IIC/bsp_iic.c **** {
 640              		.loc 1 136 0
 641              		.cfi_startproc
 642              		@ args = 0, pretend = 0, frame = 0
 643              		@ frame_needed = 0, uses_anonymous_args = 0
 644              	.LVL50:
 645 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 646              	.LCFI11:
 647              		.cfi_def_cfa_offset 24
 648              		.cfi_offset 4, -24
 649              		.cfi_offset 5, -20
 650              		.cfi_offset 6, -16
 651              		.cfi_offset 7, -12
 652              		.cfi_offset 8, -8
 653              		.cfi_offset 14, -4
 654 0004 0446     		mov	r4, r0
 655 0006 8846     		mov	r8, r1
 656 0008 1646     		mov	r6, r2
 657 000a 1F46     		mov	r7, r3
 658              	.LVL51:
 137:HARDWARE/IIC/bsp_iic.c **** 	uint8_t i,result = 0;
 138:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_Start();
 659              		.loc 1 138 0
 660 000c FFF7FEFF 		bl	USER_I2C_Start
 661              	.LVL52:
 139:HARDWARE/IIC/bsp_iic.c **** 	result = USER_I2C_SendByte((dev_addr<<1) | I2C_WR);
 662              		.loc 1 139 0
 663 0010 6000     		lsls	r0, r4, #1
 664 0012 00F0FE00 		and	r0, r0, #254
 665 0016 FFF7FEFF 		bl	USER_I2C_SendByte
 666              	.LVL53:
 140:HARDWARE/IIC/bsp_iic.c **** 	if(result)	return result;
 667              		.loc 1 140 0
 668 001a 0546     		mov	r5, r0
 669 001c 10B1     		cbz	r0, .L61
 670              	.LVL54:
 671              	.L56:
 141:HARDWARE/IIC/bsp_iic.c **** 	result = USER_I2C_SendByte(reg_addr);
 142:HARDWARE/IIC/bsp_iic.c **** 	if(result)	return result;
 143:HARDWARE/IIC/bsp_iic.c **** 	for(i=0;i<i2c_len;i++)
 144:HARDWARE/IIC/bsp_iic.c **** 	{
 145:HARDWARE/IIC/bsp_iic.c **** 		result = USER_I2C_SendByte(i2c_data_buf[i]);
 146:HARDWARE/IIC/bsp_iic.c **** 		if(result)	return result;
ARM GAS  /tmp/ccKLtQne.s 			page 16


 147:HARDWARE/IIC/bsp_iic.c **** 	}
 148:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_Stop();
 149:HARDWARE/IIC/bsp_iic.c **** 	return 0;
 150:HARDWARE/IIC/bsp_iic.c **** }
 672              		.loc 1 150 0
 673 001e 2846     		mov	r0, r5
 674 0020 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 675              	.LVL55:
 676              	.L61:
 141:HARDWARE/IIC/bsp_iic.c **** 	result = USER_I2C_SendByte(reg_addr);
 677              		.loc 1 141 0
 678 0024 4046     		mov	r0, r8
 679              	.LVL56:
 680 0026 FFF7FEFF 		bl	USER_I2C_SendByte
 681              	.LVL57:
 142:HARDWARE/IIC/bsp_iic.c **** 	for(i=0;i<i2c_len;i++)
 682              		.loc 1 142 0
 683 002a 0546     		mov	r5, r0
 684 002c 0028     		cmp	r0, #0
 685 002e F6D1     		bne	.L56
 143:HARDWARE/IIC/bsp_iic.c **** 	{
 686              		.loc 1 143 0
 687 0030 0446     		mov	r4, r0
 688              	.L57:
 689              	.LVL58:
 143:HARDWARE/IIC/bsp_iic.c **** 	{
 690              		.loc 1 143 0 is_stmt 0 discriminator 1
 691 0032 B442     		cmp	r4, r6
 692 0034 06D2     		bcs	.L62
 145:HARDWARE/IIC/bsp_iic.c **** 		if(result)	return result;
 693              		.loc 1 145 0 is_stmt 1
 694 0036 385D     		ldrb	r0, [r7, r4]	@ zero_extendqisi2
 695              	.LVL59:
 696 0038 FFF7FEFF 		bl	USER_I2C_SendByte
 697              	.LVL60:
 146:HARDWARE/IIC/bsp_iic.c **** 	}
 698              		.loc 1 146 0
 699 003c 28B9     		cbnz	r0, .L59
 143:HARDWARE/IIC/bsp_iic.c **** 	{
 700              		.loc 1 143 0 discriminator 2
 701 003e 0134     		adds	r4, r4, #1
 702              	.LVL61:
 703 0040 E4B2     		uxtb	r4, r4
 704              	.LVL62:
 705 0042 F6E7     		b	.L57
 706              	.L62:
 148:HARDWARE/IIC/bsp_iic.c **** 	return 0;
 707              		.loc 1 148 0
 708 0044 FFF7FEFF 		bl	USER_I2C_Stop
 709              	.LVL63:
 149:HARDWARE/IIC/bsp_iic.c **** }
 710              		.loc 1 149 0
 711 0048 E9E7     		b	.L56
 712              	.LVL64:
 713              	.L59:
 146:HARDWARE/IIC/bsp_iic.c **** 	}
 714              		.loc 1 146 0
ARM GAS  /tmp/ccKLtQne.s 			page 17


 715 004a 0546     		mov	r5, r0
 716 004c E7E7     		b	.L56
 717              		.cfi_endproc
 718              	.LFE76:
 720              		.section	.text.USER_I2C_Read,"ax",%progbits
 721              		.align	1
 722              		.global	USER_I2C_Read
 723              		.syntax unified
 724              		.thumb
 725              		.thumb_func
 726              		.fpu softvfp
 728              	USER_I2C_Read:
 729              	.LFB77:
 151:HARDWARE/IIC/bsp_iic.c **** 
 152:HARDWARE/IIC/bsp_iic.c **** uint8_t USER_I2C_Read(uint8_t dev_addr,uint8_t reg_addr,uint8_t i2c_len,uint8_t * i2c_data_buf)
 153:HARDWARE/IIC/bsp_iic.c **** {
 730              		.loc 1 153 0
 731              		.cfi_startproc
 732              		@ args = 0, pretend = 0, frame = 0
 733              		@ frame_needed = 0, uses_anonymous_args = 0
 734              	.LVL65:
 735 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 736              	.LCFI12:
 737              		.cfi_def_cfa_offset 24
 738              		.cfi_offset 3, -24
 739              		.cfi_offset 4, -20
 740              		.cfi_offset 5, -16
 741              		.cfi_offset 6, -12
 742              		.cfi_offset 7, -8
 743              		.cfi_offset 14, -4
 744 0002 0546     		mov	r5, r0
 745 0004 0F46     		mov	r7, r1
 746 0006 1446     		mov	r4, r2
 747 0008 1E46     		mov	r6, r3
 154:HARDWARE/IIC/bsp_iic.c **** 	uint8_t result;
 155:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_Start();
 748              		.loc 1 155 0
 749 000a FFF7FEFF 		bl	USER_I2C_Start
 750              	.LVL66:
 156:HARDWARE/IIC/bsp_iic.c **** 	result = USER_I2C_SendByte((dev_addr<<1) | I2C_WR);
 751              		.loc 1 156 0
 752 000e 6800     		lsls	r0, r5, #1
 753 0010 00F0FE00 		and	r0, r0, #254
 754 0014 FFF7FEFF 		bl	USER_I2C_SendByte
 755              	.LVL67:
 157:HARDWARE/IIC/bsp_iic.c **** 	if(result)	return result;
 756              		.loc 1 157 0
 757 0018 0346     		mov	r3, r0
 758 001a 08B1     		cbz	r0, .L70
 759              	.LVL68:
 760              	.L64:
 158:HARDWARE/IIC/bsp_iic.c **** 	result = USER_I2C_SendByte(reg_addr);
 159:HARDWARE/IIC/bsp_iic.c **** 	if(result)	return result;
 160:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_Start();
 161:HARDWARE/IIC/bsp_iic.c **** 	result = USER_I2C_SendByte((dev_addr<<1) | I2C_RD);
 162:HARDWARE/IIC/bsp_iic.c **** 	if(result)	return result;
 163:HARDWARE/IIC/bsp_iic.c **** 	while(i2c_len)
ARM GAS  /tmp/ccKLtQne.s 			page 18


 164:HARDWARE/IIC/bsp_iic.c **** 	{
 165:HARDWARE/IIC/bsp_iic.c **** 		if(i2c_len == 1)
 166:HARDWARE/IIC/bsp_iic.c **** 			*i2c_data_buf = USER_I2C_ReadByte(0);
 167:HARDWARE/IIC/bsp_iic.c **** 		else
 168:HARDWARE/IIC/bsp_iic.c **** 			*i2c_data_buf = USER_I2C_ReadByte(1);
 169:HARDWARE/IIC/bsp_iic.c **** 		i2c_data_buf ++;
 170:HARDWARE/IIC/bsp_iic.c **** 		i2c_len --;
 171:HARDWARE/IIC/bsp_iic.c **** 	}
 172:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_Stop();
 173:HARDWARE/IIC/bsp_iic.c **** 	return 0;
 174:HARDWARE/IIC/bsp_iic.c **** }
 761              		.loc 1 174 0
 762 001c 1846     		mov	r0, r3
 763 001e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 764              	.LVL69:
 765              	.L70:
 158:HARDWARE/IIC/bsp_iic.c **** 	result = USER_I2C_SendByte(reg_addr);
 766              		.loc 1 158 0
 767 0020 3846     		mov	r0, r7
 768              	.LVL70:
 769 0022 FFF7FEFF 		bl	USER_I2C_SendByte
 770              	.LVL71:
 159:HARDWARE/IIC/bsp_iic.c **** 	USER_I2C_Start();
 771              		.loc 1 159 0
 772 0026 0346     		mov	r3, r0
 773 0028 0028     		cmp	r0, #0
 774 002a F7D1     		bne	.L64
 160:HARDWARE/IIC/bsp_iic.c **** 	result = USER_I2C_SendByte((dev_addr<<1) | I2C_RD);
 775              		.loc 1 160 0
 776 002c FFF7FEFF 		bl	USER_I2C_Start
 777              	.LVL72:
 161:HARDWARE/IIC/bsp_iic.c **** 	if(result)	return result;
 778              		.loc 1 161 0
 779 0030 6800     		lsls	r0, r5, #1
 780 0032 40F00100 		orr	r0, r0, #1
 781 0036 C0B2     		uxtb	r0, r0
 782 0038 FFF7FEFF 		bl	USER_I2C_SendByte
 783              	.LVL73:
 162:HARDWARE/IIC/bsp_iic.c **** 	while(i2c_len)
 784              		.loc 1 162 0
 785 003c 0346     		mov	r3, r0
 786 003e 38B1     		cbz	r0, .L65
 787 0040 ECE7     		b	.L64
 788              	.LVL74:
 789              	.L72:
 166:HARDWARE/IIC/bsp_iic.c **** 		else
 790              		.loc 1 166 0
 791 0042 0020     		movs	r0, #0
 792 0044 FFF7FEFF 		bl	USER_I2C_ReadByte
 793              	.LVL75:
 794 0048 3070     		strb	r0, [r6]
 795              	.L67:
 169:HARDWARE/IIC/bsp_iic.c **** 		i2c_len --;
 796              		.loc 1 169 0
 797 004a 0136     		adds	r6, r6, #1
 798              	.LVL76:
 170:HARDWARE/IIC/bsp_iic.c **** 	}
ARM GAS  /tmp/ccKLtQne.s 			page 19


 799              		.loc 1 170 0
 800 004c 013C     		subs	r4, r4, #1
 801              	.LVL77:
 802 004e E4B2     		uxtb	r4, r4
 803              	.LVL78:
 804              	.L65:
 163:HARDWARE/IIC/bsp_iic.c **** 	{
 805              		.loc 1 163 0
 806 0050 34B1     		cbz	r4, .L71
 165:HARDWARE/IIC/bsp_iic.c **** 			*i2c_data_buf = USER_I2C_ReadByte(0);
 807              		.loc 1 165 0
 808 0052 012C     		cmp	r4, #1
 809 0054 F5D0     		beq	.L72
 168:HARDWARE/IIC/bsp_iic.c **** 		i2c_data_buf ++;
 810              		.loc 1 168 0
 811 0056 0120     		movs	r0, #1
 812 0058 FFF7FEFF 		bl	USER_I2C_ReadByte
 813              	.LVL79:
 814 005c 3070     		strb	r0, [r6]
 815 005e F4E7     		b	.L67
 816              	.L71:
 172:HARDWARE/IIC/bsp_iic.c **** 	return 0;
 817              		.loc 1 172 0
 818 0060 FFF7FEFF 		bl	USER_I2C_Stop
 819              	.LVL80:
 173:HARDWARE/IIC/bsp_iic.c **** }
 820              		.loc 1 173 0
 821 0064 2346     		mov	r3, r4
 822 0066 D9E7     		b	.L64
 823              		.cfi_endproc
 824              	.LFE77:
 826              		.text
 827              	.Letext0:
 828              		.file 2 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/machine/_default_type
 829              		.file 3 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_stdint.h"
 830              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 831              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 832              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 833              		.file 7 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/lock.h"
 834              		.file 8 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_types.h"
 835              		.file 9 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/lib/gcc/arm-none-eabi/7.3.1/include/stddef.
 836              		.file 10 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/reent.h"
 837              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
ARM GAS  /tmp/ccKLtQne.s 			page 20


DEFINED SYMBOLS
                            *ABS*:0000000000000000 bsp_iic.c
     /tmp/ccKLtQne.s:16     .text.USER_I2C_GPIO_Config:0000000000000000 $t
     /tmp/ccKLtQne.s:22     .text.USER_I2C_GPIO_Config:0000000000000000 USER_I2C_GPIO_Config
     /tmp/ccKLtQne.s:96     .text.USER_I2C_GPIO_Config:000000000000005c $d
     /tmp/ccKLtQne.s:102    .text.delay_us:0000000000000000 $t
     /tmp/ccKLtQne.s:109    .text.delay_us:0000000000000000 delay_us
     /tmp/ccKLtQne.s:137    .text.USER_I2C_NAck:0000000000000000 $t
     /tmp/ccKLtQne.s:143    .text.USER_I2C_NAck:0000000000000000 USER_I2C_NAck
     /tmp/ccKLtQne.s:180    .text.USER_I2C_NAck:0000000000000020 $d
     /tmp/ccKLtQne.s:185    .text.USER_I2C_Ack:0000000000000000 $t
     /tmp/ccKLtQne.s:191    .text.USER_I2C_Ack:0000000000000000 USER_I2C_Ack
     /tmp/ccKLtQne.s:228    .text.USER_I2C_Ack:0000000000000020 $d
     /tmp/ccKLtQne.s:233    .text.USER_I2C_Config:0000000000000000 $t
     /tmp/ccKLtQne.s:240    .text.USER_I2C_Config:0000000000000000 USER_I2C_Config
     /tmp/ccKLtQne.s:260    .text.USER_I2C_Start:0000000000000000 $t
     /tmp/ccKLtQne.s:267    .text.USER_I2C_Start:0000000000000000 USER_I2C_Start
     /tmp/ccKLtQne.s:304    .text.USER_I2C_Start:0000000000000020 $d
     /tmp/ccKLtQne.s:309    .text.USER_I2C_Stop:0000000000000000 $t
     /tmp/ccKLtQne.s:316    .text.USER_I2C_Stop:0000000000000000 USER_I2C_Stop
     /tmp/ccKLtQne.s:353    .text.USER_I2C_Stop:0000000000000020 $d
     /tmp/ccKLtQne.s:358    .text.USER_I2C_Wait_Ack:0000000000000000 $t
     /tmp/ccKLtQne.s:365    .text.USER_I2C_Wait_Ack:0000000000000000 USER_I2C_Wait_Ack
     /tmp/ccKLtQne.s:430    .text.USER_I2C_Wait_Ack:0000000000000040 $d
     /tmp/ccKLtQne.s:435    .text.USER_I2C_SendByte:0000000000000000 $t
     /tmp/ccKLtQne.s:442    .text.USER_I2C_SendByte:0000000000000000 USER_I2C_SendByte
     /tmp/ccKLtQne.s:524    .text.USER_I2C_SendByte:0000000000000054 $d
     /tmp/ccKLtQne.s:529    .text.USER_I2C_ReadByte:0000000000000000 $t
     /tmp/ccKLtQne.s:536    .text.USER_I2C_ReadByte:0000000000000000 USER_I2C_ReadByte
     /tmp/ccKLtQne.s:626    .text.USER_I2C_ReadByte:000000000000005c $d
     /tmp/ccKLtQne.s:631    .text.USER_I2C_Write:0000000000000000 $t
     /tmp/ccKLtQne.s:638    .text.USER_I2C_Write:0000000000000000 USER_I2C_Write
     /tmp/ccKLtQne.s:721    .text.USER_I2C_Read:0000000000000000 $t
     /tmp/ccKLtQne.s:728    .text.USER_I2C_Read:0000000000000000 USER_I2C_Read

UNDEFINED SYMBOLS
HAL_GPIO_Init
